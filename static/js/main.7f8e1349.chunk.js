(this["webpackJsonpikago-web"]=this["webpackJsonpikago-web"]||[]).push([[0],{174:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGymlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTA4VDIzOjQ3OjUxKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTA5VDEwOjEwOjM2KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0wOVQxMDoxMDozNiswODowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiZjA5MmY0Mi05ZGE1LWU4NGMtOTlkZi00Y2VhNWU3ZmM0NTQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0ZmMyNmYxYS0wN2Q4LTgzNGQtOGNkYi0xMTJhNDMyMjg4NGYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozZTQyOTEwYS0xZjAxLTNkNGYtYWQ5Zi03OWY2NDU2MGJhMWUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNlNDI5MTBhLTFmMDEtM2Q0Zi1hZDlmLTc5ZjY0NTYwYmExZSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0wOFQyMzo0Nzo1MSswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2NDk3N2I1Yy1mODYyLTJiNGUtOTUzOS0zNDAxZDE1OWQ3OWYiIHN0RXZ0OndoZW49IjIwMjAtMDUtMDhUMjM6NDc6NTErMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YmYwOTJmNDItOWRhNS1lODRjLTk5ZGYtNGNlYTVlN2ZjNDU0IiBzdEV2dDp3aGVuPSIyMDIwLTA1LTA5VDEwOjEwOjM2KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+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"},202:function(e,t,a){e.exports=a(416)},207:function(e,t,a){},235:function(e,t,a){},416:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(4),l=a.n(i),r=(a(207),a(139),a(35)),c=(a(140),a(13)),u=(a(417),a(53)),s=(a(211),a(54)),m=(a(141),a(66)),d=(a(214),a(82)),h=a(39),b=a(61),v=a(200),S=a(109),z=(a(216),a(198)),p=(a(142),a(48)),f=(a(220),a(199)),T=(a(222),a(81)),w=a(67),E=(a(415),a(113)),A=(a(231),a(112)),I=a(423),g=a(422),N=a(421),k=a(424),M=a(420),y=a(426),D=a(425),Z=a(419),j=a(173),O=(a(235),a(174)),x=a.n(O),L=A.a.Header,R=A.a.Content,G=E.a.Column,W=function(e){var t=e.visible,a=e.onOk,n=e.onCancel,i=e.initialValues,l=T.a.useForm(),r=Object(w.a)(l,1)[0];return o.a.createElement(z.a,{visible:t,title:"Configuration",okText:"Save",cancelText:"Cancel",onCancel:n,onOk:function(){r.validateFields().then((function(e){a(e)})).catch((function(){}))}},o.a.createElement(T.a,{form:r,layout:"vertical",name:"configuration",initialValues:i},o.a.createElement(T.a.Item,{name:"path",label:"IkaGo Path",rules:[{required:!0,message:"Please input the path of IkaGo."}]},o.a.createElement(f.a,{addonBefore:"http://"})),o.a.createElement(T.a.Item,{name:"showTotal",label:"Data Presentation Mode"},o.a.createElement(p.a.Group,null,o.a.createElement(p.a,{value:!1},"Current"),o.a.createElement(p.a,{value:!0},"Total")))))},P=function(e){Object(S.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={configure:!1,path:"localhost:18080",showPacket:!1,showTotal:!1,name:"IkaGo Web",version:"",active:!1,inactive:!1,time:0,outboundSize:0,outboundSizeTotal:0,inboundSize:0,inboundSizeTotal:0,ping:-1,local:[],remote:[],dns:new Map},n.updateData=function(){var e=n.state.path,t={method:"GET"};fetch("http://"+e,t).then((function(e){return e.json()})).then((function(t){var a=0;for(var o in t.monitor.local.out)a+=t.monitor.local.out[o].size;var i=0;0!==n.state.outboundSizeTotal&&(i=a-n.state.outboundSizeTotal);var l=0;for(var r in t.monitor.local.in)l+=t.monitor.local.in[r].size;var c=0;0!==n.state.inboundSizeTotal&&(c=l-n.state.inboundSizeTotal);var u=[],s=function(e){void 0===u.find((function(t){return t===e}))&&u.push(e)};for(var m in t.monitor.local.out)s(m);var h=function(e){void 0===u.find((function(t){return t===e}))&&u.push(e)};for(var b in t.monitor.local.in)h(b);var v=[],S=function(e){var a=n.convertNode(n.state.local.find((function(t){return t.key===u[e]})),u[e],t.monitor.local.out[u[e]],t.monitor.local.in[u[e]]);a.outboundSizeTotal>0&&v.push(a)};for(var z in u)S(z);var p=[],f=function(e){void 0===p.find((function(t){return t===e}))&&p.push(e)};for(var T in t.monitor.remote.out)f(T);var w=function(e){void 0===p.find((function(t){return t===e}))&&p.push(e)};for(var E in t.monitor.remote.in)w(E);var A=[],I=function(e){var a=n.convertNode(n.state.remote.find((function(t){return t.key===p[e]})),p[e],t.monitor.remote.out[p[e]],t.monitor.remote.in[p[e]]);a.outboundSizeTotal>0&&A.push(a)};for(var g in p)I(g);n.state.path===e&&(n.state.active||d.a.success("Connect to "+t.name+" ("+e+")."),n.setState({name:t.name,version:t.version,active:!0,inactive:!1,time:t.time||0,outboundSize:i,outboundSizeTotal:a,inboundSize:c,inboundSizeTotal:l,ping:void 0!==t.ping?t.ping:-1,local:v,remote:A}))})).catch((function(){n.state.path===e&&(n.state.inactive||(n.state.active?d.a.warn("Disconnect from IkaGo ("+e+")."):(d.a.error("Cannot connect to IkaGo ("+e+")."),d.a.info(o.a.createElement("span",null,"If you have not used IkaGo yet, you can get it ",o.a.createElement("a",{href:"https://github.com/zhxie/ikago"},"here"),"."),6))),n.setState({name:"IkaGo Web",version:"",active:!1,inactive:!0,time:0,outboundSize:0,outboundSizeTotal:0,inboundSize:0,inboundSizeTotal:0,ping:-1,local:[],remote:[]}))})),fetch("http://"+(e+"/dns").replace("//","/"),t).then((function(e){return e.json()})).then((function(t){var a=new Map;for(var o in t)a.set(t[o].ip,t[o].name);n.state.path===e&&n.setState({dns:a})})).catch((function(){}))},n.convertPath=function(e){return-1===e.lastIndexOf(":")?":80":e.substring(e.lastIndexOf(":"))},n.convertTime=function(e){e=e.toFixed(0);var t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),n=e-3600*t-60*a;return 0!==t?t+":"+("0"+a).substr(-2)+":"+("0"+n).substr(-2):("0"+a).substr(-2)+":"+("0"+n).substr(-2)},n.convertSize=function(e){return e>1073741824?e/1073741824:e>1048576?e/1048576:e>1024?e/1024:e},n.mapSizeUnit=function(e){return e>1073741824?"GB":e>1048576?"MB":e>1024?"kB":"B"},n.convertNode=function(e,t,a,n){return void 0!==e?{key:t,outboundSize:void 0!==a?a.size-e.outboundSizeTotal:0,outboundSizeTotal:void 0!==a?a.size:0,inboundSize:void 0!==n?n.size-e.inboundSizeTotal:0,inboundSizeTotal:void 0!==n?n.size:0,lastSeen:Math.max(void 0!==a?a.lastSeen:0,void 0!==n?n.lastSeen:0)}:{key:t,outboundSize:0,outboundSizeTotal:void 0!==a?a.size:0,inboundSize:0,inboundSizeTotal:void 0!==n?n.size:0,lastSeen:Math.max(void 0!==a?a.lastSeen:0,void 0!==n?n.lastSeen:0)}},n.mapNodes=function(e){var t=new Map,a=[];for(var o in e){var i=n.state.dns.get(e[o].key);if(void 0!==i){var l=t.get(i);void 0!==l?(l.main=e[o].lastSeen>l.children[0].lastSeen?e[o].key:l.main,l.outboundSize=l.outboundSize+e[o].outboundSize,l.outboundSizeTotal=l.outboundSizeTotal+e[o].outboundSizeTotal,l.inboundSize=l.inboundSize+e[o].inboundSize,l.inboundSizeTotal=l.inboundSizeTotal+e[o].inboundSizeTotal,l.lastSeen=Math.max(l.lastSeen,e[o].lastSeen),l.children.push(e[o]),l.children.sort((function(e,t){return t.lastSeen-e.lastSeen})),t.set(i,l)):t.set(i,{key:i,main:e[o].key,outboundSize:e[o].outboundSize,outboundSizeTotal:e[o].outboundSizeTotal,inboundSize:e[o].inboundSize,inboundSizeTotal:e[o].inboundSizeTotal,lastSeen:e[o].lastSeen,children:[e[o]]})}else a.push(e[o])}return t.forEach((function(e){a.push(e)})),a.sort((function(e,t){return t.lastSeen-e.lastSeen})),a},n.lookup=function(e){if(n.countryMap.has(e)){var t=n.countryMap.get(e);if(void 0!==t.countryCode)return t;if(t.timeout>0)return n.countryMap.set(e,{timeout:t.timeout-1}),t}n.countryMap.set(e,{timeout:15});return fetch("http://ip-api.com/json/"+e+".1",{method:"GET"}).then((function(e){return e.json()})).then((function(t){n.countryMap.set(e,{countryCode:t.countryCode,isp:t.isp})})).catch((function(){})),n.countryMap.get(e)},n.showNode=function(e){var t=(e.main||e.key).substr(0,(e.main||e.key).lastIndexOf(".")),a=n.lookup(t);return void 0===a.countryCode?o.a.createElement("span",{className:"content-table-col-span"},e.key):o.a.createElement("span",{className:"content-table-col-span"},o.a.createElement(m.a,{title:a.isp},o.a.createElement(j.a,{countryCode:a.countryCode,svg:!0,style:{margin:"0 4px 0 0"}})),e.key)},n.showOutbound=function(e){return n.state.showTotal?(Math.floor(10*n.convertSize(e.outboundSizeTotal))/10).toFixed(1)+" "+n.mapSizeUnit(e.outboundSizeTotal):(Math.floor(10*n.convertSize(e.outboundSize))/10).toFixed(1)+" "+n.mapSizeUnit(e.outboundSize)+"/s"},n.showInbound=function(e){return n.state.showTotal?(Math.floor(10*n.convertSize(e.inboundSizeTotal))/10).toFixed(1)+" "+n.mapSizeUnit(e.inboundSizeTotal):(Math.floor(10*n.convertSize(e.inboundSize))/10).toFixed(1)+" "+n.mapSizeUnit(e.inboundSize)+"/s"},n.countryMap=new Map,n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(A.a,null,o.a.createElement(L,{className:"header"},o.a.createElement("a",{className:"header-a",href:"https://github.com/zhxie/ikago"},o.a.createElement("img",{className:"header-icon",src:x.a,alt:"icon"})),o.a.createElement("p",{className:"header-title"},this.state.name),o.a.createElement("p",{className:"header-subtitle"},this.state.version)),o.a.createElement(R,{className:"content"},o.a.createElement(r.a,{gutter:16},o.a.createElement(c.a,{className:"content-col",xs:24,sm:12,md:12,lg:6,xl:4},o.a.createElement(u.a,{className:"content-card",hoverable:!0},o.a.createElement(s.a,{prefix:e.state.active?o.a.createElement(I.a,null):e.state.inactive?o.a.createElement(g.a,null):o.a.createElement(N.a,null),title:"Status",value:e.state.active?"Active":e.state.inactive?"Inactive":"Connecting",valueStyle:{color:e.state.inactive?"#cf1322":"#000"}}))),o.a.createElement(c.a,{className:"content-col",xs:24,sm:12,md:12,lg:6,xl:4},o.a.createElement(u.a,{className:"content-card",hoverable:!0},o.a.createElement(s.a,{precision:2,prefix:o.a.createElement(k.a,null),title:"Operation Time",value:this.convertTime(this.state.time)}))),o.a.createElement(c.a,{className:"content-col",xs:24,sm:12,md:12,lg:6,xl:4},o.a.createElement(u.a,{hoverable:!0,onClick:function(){e.setState({showTotal:!e.state.showTotal})}},o.a.createElement(s.a,{precision:1,prefix:o.a.createElement(M.a,null),suffix:e.state.showTotal?e.mapSizeUnit(e.state.outboundSizeTotal):e.mapSizeUnit(e.state.outboundSize)+"/s",title:"Outbound",value:e.state.showTotal?e.convertSize(e.state.outboundSizeTotal):e.convertSize(e.state.outboundSize)}))),o.a.createElement(c.a,{className:"content-col",xs:24,sm:12,md:12,lg:6,xl:4},o.a.createElement(u.a,{hoverable:!0,onClick:function(){e.setState({showTotal:!e.state.showTotal})}},o.a.createElement(s.a,{precision:1,prefix:o.a.createElement(y.a,null),suffix:e.state.showTotal?e.mapSizeUnit(e.state.inboundSizeTotal):e.mapSizeUnit(e.state.inboundSize)+"/s",title:"Inbound",value:e.state.showTotal?e.convertSize(e.state.inboundSizeTotal):e.convertSize(e.state.inboundSize)}))),o.a.createElement(c.a,{className:"content-col",xs:24,sm:12,md:12,lg:6,xl:4},o.a.createElement(u.a,{className:"content-card",hoverable:!0},o.a.createElement(s.a,{prefix:o.a.createElement(D.a,null),suffix:this.state.ping<0?"":"ms",title:"Delay",value:-1===e.state.ping?"N/A":-2===e.state.ping?"Timeout":e.state.ping,valueStyle:{color:-2===e.state.ping?"#cf1322":e.state.ping>=100?"#faad14":"#000"}}))),o.a.createElement(c.a,{className:"content-col",xs:24,sm:12,md:12,lg:6,xl:4},o.a.createElement(u.a,{hoverable:!0,onClick:function(){e.setState({configure:!0})}},o.a.createElement(s.a,{prefix:o.a.createElement(Z.a,null),title:"Configure",value:this.convertPath(this.state.path)})),o.a.createElement(W,{visible:this.state.configure,onOk:function(t){localStorage.setItem("path",t.path),localStorage.setItem("showTotal",t.showTotal?"true":"false"),e.setState({configure:!1,path:t.path,showTotal:t.showTotal,active:e.state.path===t.path&&e.state.active,inactive:e.state.path===t.path&&e.state.inactive})},onCancel:function(){e.setState({configure:!1})},initialValues:{path:this.state.path,showTotal:this.state.showTotal}}))),o.a.createElement(r.a,{gutter:16},o.a.createElement(c.a,{className:"content-col-table",sm:24,md:24,lg:12},o.a.createElement(E.a,{dataSource:this.mapNodes(this.state.local),pagination:!1,size:"middle"},o.a.createElement(G,{title:"Source",key:"source",align:"left",render:this.showNode}),o.a.createElement(G,{title:"Outbound",key:"outboundSize",align:"center",render:this.showOutbound,width:200}),o.a.createElement(G,{title:"Inbound",key:"inboundSize",align:"center",render:this.showInbound,width:200}))),o.a.createElement(c.a,{className:"content-col-table",sm:24,md:24,lg:12},o.a.createElement(E.a,{dataSource:this.mapNodes(this.state.remote),pagination:!1,size:"middle"},o.a.createElement(G,{title:"Destination",key:"source",align:"left",render:this.showNode}),o.a.createElement(G,{title:"Outbound",key:"outboundSize",align:"center",render:this.showOutbound,width:200}),o.a.createElement(G,{title:"Inbound",key:"inboundSize",align:"center",render:this.showInbound,width:200}))))))}},{key:"componentDidMount",value:function(){this.setState({path:localStorage.getItem("path")||"localhost:18080",showTotal:"true"===localStorage.getItem("show")}),this.timer=setInterval(this.updateData,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}}]),a}(o.a.Component);var B=function(){return o.a.createElement(P,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[202,1,2]]]);